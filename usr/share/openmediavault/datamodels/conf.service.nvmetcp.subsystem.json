{
  "type": "config",
  "id": "conf.service.nvmetcp.subsystem",
  "title": "nvmetcp subsystem",
  "queryinfo": {
    "xpath": "/config/services/nvmetcp/subsystems/subsystem",
    "iterable": true,
    "idproperty": "uuid"
  },
  "properties": {
    "uuid": {
      "type": "string",
      "format": "uuidv4"
    },
    "enable": {
      "type": "boolean",
      "default": false
    },
    "description": {
      "type": "string",
      "default": ""
    },
    "nqn": {
      "type": "string",
      "minLength": 1,
      "pattern": "^nqn\\..+$"
    },
    "model": {
      "type": "string",
      "default": "OMV NVMe Target"
    },
    "serial": {
      "type": "string",
      "default": "OMV00000001"
    },
    "allow_any_host": {
      "type": "boolean",
      "default": false
    },
    "hosts": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "hostnqn": {
            "type": "string",
            "pattern": "^nqn\\..+$"
          }
        }
      }
    },
    "namespaces": {
      "type": "array",
      "default": [],
      "items": {
        "type": "object",
        "properties": {
          "nsid": {
            "type": "integer",
            "minimum": 1
          },
          "path": {
            "type": "string",
            "minLength": 1
          },
          "uuid": {
            "type": "string",
            "default": ""
          },
          "nguid": {
            "type": "string",
            "default": ""
          },
          "eui64": {
            "type": "string",
            "default": ""
          },
          "readonly": {
            "type": "boolean",
            "default": false
          }
        },
        "required": [
          "path"
        ]
      }
    }
  }
}
